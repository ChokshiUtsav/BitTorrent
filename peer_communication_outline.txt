;All blocks from one piece strategy

;one time action
send( msg = 2 (interested))

loop : recv msg
	if msg == 20 (extended)
		ignore
	if msg == 1 (Unchoke)
		peer.is_choking = 0
	if msg == 5 (bitfield)
		set peer.bitfield
	if msg == 0 (choke)
		peer.is_choking = 1
	if msg == 7 (piece)
		if block_index = 0
			make new file and write it to that file
		else
			write to existing file
	if msg == 4 (have)
		update the bit-field


	if peer.is_choking == 1
	   wait for 2 mins
	   send(keep-alive msg)
	   recv(some msg ?)
	   send(keep-alive msg)
	   recv(some msg ?)
	   close connection
	   quit

	if peer.is_choking == 0
		send( msg = 6(request))